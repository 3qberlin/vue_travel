import{a as _}from"./axios-G2rPRu76.js";import{_ as y,c as a,b as t,d as u,w as h,F as g,j as m,n as b,l as v,r as Z,o as i,e as d,t as r}from"./index-bjpFYgoi.js";var N={VITE_API_URL:"https://vue3-course-api.hexschool.io/v2/",VITE_API_NAME:"berlin",BASE_URL:"/vue_week8/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_API_URL:f,VITE_API_NAME:x}=N,w="eyJhbGciOiJSUzI1NiIsImtpZCI6IkFrZEJodyJ9.eyJpc3MiOiJodHRwczovL3Nlc3Npb24uZmlyZWJhc2UuZ29vZ2xlLmNvbS92dWUtY291cnNlLWFwaSIsImF1ZCI6InZ1ZS1jb3Vyc2UtYXBpIiwiYXV0aF90aW1lIjoxNzA5OTY5OTc1LCJ1c2VyX2lkIjoiVklrYjA4ZHhBT2F4TzRBNE1kZlphYWZ6Q1AyMyIsInN1YiI6IlZJa2IwOGR4QU9heE80QTRNZGZaYWFmekNQMjMiLCJpYXQiOjE3MDk5Njk5NzUsImV4cCI6MTcxMDQwMTk3NSwiZW1haWwiOiIzcS5iZXJsaW5AZ21haWwuY29tIiwiZW1haWxfdmVyaWZpZWQiOmZhbHNlLCJmaXJlYmFzZSI6eyJpZGVudGl0aWVzIjp7ImVtYWlsIjpbIjNxLmJlcmxpbkBnbWFpbC5jb20iXX0sInNpZ25faW5fcHJvdmlkZXIiOiJwYXNzd29yZCJ9fQ.OsCNmHr-44a97_GiU-lGqPZh_t__I34fSYoMZt-8q9UxXzizIRsbQdtE2Hjz8j0Q9v5_zLIM0uz0m1DyiwxEF0VnNfYThd_AAnHm2xFgUg1fcznIrfuHfXpIDpXdD9kn8_FNTz5393ZRBFqZzZ1ANo_61e4r6dtji5BjEOfO0fPcWKThOtKqZ55GBy3yEhf2bpq9nuo-aZWpU_FQKvKMSG8315wVI7_-0_rogd_viibO35unqI0mjGNE9qPg2fNlOuo9fqAhKLbJrkiMHnG_oHo_ELqXPcqmXg6w7Kju76SL039xK-mG9uxNjdwLqGUt_QGIc8uQ1PmV--ING3XgFA",P={data(){return{products:[],categories:["海景","野外","飯店","民宿"],vuePagination:{}}},watch:{"$route.query":{handler(){this.getProducts()}},deep:!0},methods:{getProducts(){const{category:c=""}=this.$route.query,o=`${f}api/${x}/products?category=${c}`;_.get(o).then(n=>{this.products=n.data.products})},pagination(c=1){const o=`${f}/api/${x}/products?page=${c}`;_.get(o).then(n=>{const{products:I,pagination:s}=n.data;this.products=I,this.vuePagination=s}).catch(n=>{alert(n.response.data.message)})},createToken(){_.defaults.headers.common.Authorization=w}},mounted(){this.getProducts(),this.createToken(),this.pagination()}},E={class:"container mt-md-5 mt-3 mb-7"},j={class:"row"},O={class:"col-md-4"},V={class:"accordion border border-bottom border-top-0 border-start-0 border-end-0 mb-3",id:"accordionExample"},W={class:"card border-0"},z=t("div",{class:"card-header px-0 py-4 bg-white border border-bottom-0 border-top border-start-0 border-end-0 rounded-0",id:"headingOne","data-bs-toggle":"collapse","data-bs-target":"#collapseOne"},[t("div",{class:"d-flex justify-content-between align-items-center pe-1"},[t("h4",{class:"mb-0"},"產品分類"),t("i",{class:"fas fa-chevron-down"})])],-1),J={id:"collapseOne",class:"collapse show","aria-labelledby":"headingOne","data-bs-parent":"#accordionExample"},T={class:"card-body py-0"},L={class:"list-unstyled"},A={class:"py-2 d-block text-muted"},C={class:"col-md-8"},F={class:"row"},M={class:"card border-0 mb-4 position-relative position-relative"},X=["src"],G=t("a",{href:"#",class:"text-dark"},[t("i",{class:"far fa-heart position-absolute",style:{right:"16px",top:"16px"}})],-1),U={class:"card-body p-0"},Y={class:"mb-0 mt-3"},S={class:"card-text mb-0"},q={class:"text-muted"},Q=t("p",{class:"text-muted mt-3"},null,-1),R={"aria-label":"Page navigation example"},B={class:"pagination"},H=t("span",{"aria-hidden":"true"},"«",-1),D=[H],K=["onClick"],$=t("span",{"aria-hidden":"true"},"»",-1),tt=[$];function et(c,o,n,I,s,l){const p=Z("RouterLink");return i(),a("div",E,[t("div",j,[t("div",O,[t("div",V,[t("div",W,[z,t("div",J,[t("div",T,[t("ul",L,[t("li",A,[u(p,{to:"/products",class:"text-muted text-decoration-none"},{default:h(()=>[d("全部")]),_:1})]),(i(!0),a(g,null,m(s.categories,e=>(i(),a("li",{key:e,class:"py-2 d-block text-muted"},[u(p,{to:`/products?category=${e}`,class:"text-muted text-decoration-none"},{default:h(()=>[d(r(e),1)]),_:2},1032,["to"])]))),128))])])])])])]),t("div",C,[t("div",F,[(i(!0),a(g,null,m(s.products,e=>(i(),a("div",{class:"col-md-6",key:e.id},[t("div",M,[t("img",{src:e.imagesUrl,style:{"max-height":"350px","min-height":"300px"},class:"card-img-top rounded-0 object-fit-cover",alt:"..."},null,8,X),G,t("div",U,[t("h4",Y,[u(p,{to:`/product/${e.id}`,class:"text-dark text-decoration-none"},{default:h(()=>[d(r(e.title),1)]),_:2},1032,["to"])]),t("p",S,[d(" NT$"+r(e.price)+" ",1),t("span",q,[t("del",null," NT$"+r(e.origin_price),1)])]),Q])])]))),128))]),t("nav",R,[t("ul",B,[t("li",{class:b(["page-item",{disabled:s.vuePagination.current_page===1}])},[t("a",{class:"page-link",href:"#","aria-label":"Previous",onClick:o[0]||(o[0]=v(e=>l.pagination(s.vuePagination.current_page-1),["prevent"]))},D)],2),(i(!0),a(g,null,m(s.vuePagination.total_pages,(e,k)=>(i(),a("li",{key:k,class:b(["page-item",{active:e===s.vuePagination.current_page}])},[t("a",{class:"page-link",href:"#",onClick:v(st=>l.pagination(e),["prevent"])},r(e),9,K)],2))),128)),t("li",{class:b(["page-item",{disabled:s.vuePagination.current_page===s.vuePagination.total_pages}])},[t("a",{class:"page-link",href:"#","aria-label":"Previous",onClick:o[1]||(o[1]=v(e=>l.pagination(s.vuePagination.current_page+1),["prevent"]))},tt)],2)])])])])])}const it=y(P,[["render",et]]);export{it as default};
